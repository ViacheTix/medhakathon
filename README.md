# üè• Medical Insight ‚Äî AI –ê–Ω–∞–ª–∏—Ç–∏–∫ (Hackathon MVP)

–≠—Ç–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è —Ö–∞–∫–∞—Ç–æ–Ω–∞.
**–°—É—Ç—å –ø—Ä–æ–µ–∫—Ç–∞:** AI-–∞–≥–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞.
**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** Python, Streamlit, LangChain, Google Gemini, DuckDB.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–ß—Ç–æ –≥–¥–µ –ª–µ–∂–∏—Ç?)

–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ –ª–µ–∑—Ç—å –≤ –∫–æ–¥, –ø–æ–π–º–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É:

```text
medhakathon/
‚îú‚îÄ‚îÄ main.py                  # –ó–∞–ø—É—Å–∫–∞—Ç—å —á–µ—Ä–µ–∑ streamlit run main.py
‚îú‚îÄ‚îÄ agent.py                 # –õ–æ–≥–∏–∫–∞ Text-to-SQL –∞–≥–µ–Ω—Ç–∞ –∏ –æ–±—â–µ–Ω–∏—è —Å LLM
‚îú‚îÄ‚îÄ requirements.txt         # –°–ø–∏—Å–æ–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫
‚îú‚îÄ‚îÄ .env                     # –ö–ª—é—á–∏ API (—Å–æ–∑–¥–∞—Ç—å —Å–∞–º–æ–º—É, –≤ git –Ω–µ –ø—É—à–∏—Ç—å!)
‚îú‚îÄ‚îÄ README.md                # –û–±–Ω–æ–≤–ª—è–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –ø—Ä–æ–µ–∫—Ç—É, —á—Ç–æ–±—ã –¥–µ—Ä–∂–∞—Ç—å –≤—Å–µ—Ö –Ω–∞–ø–ª–∞–≤—É
‚îÇ
‚îú‚îÄ‚îÄ data/                    # –°–Æ–î–ê –∫–∏–¥–∞–µ–º –∏—Å—Ö–æ–¥–Ω—ã–µ CSV (–ø–∞—Ü–∏–µ–Ω—Ç—ã, –¥–∏–∞–≥–Ω–æ–∑—ã...)
‚îÇ                            # (–≠—Ç–∞ –ø–∞–ø–∫–∞ –≤ .gitignore, –¥–∞–Ω–Ω—ã–µ –∫–∞—á–∞–µ–º —Å –î–∏—Å–∫–∞)
‚îÇ
‚îú‚îÄ‚îÄ output/                  # üìä –¢—É—Ç –±—É–¥—É—Ç —Ñ–∞–π–ª—ã –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ –Ω–∞ –î–∞—à–±–æ—Ä–¥–µ
‚îÇ   ‚îú‚îÄ‚îÄ ?
‚îÇ   ‚îî‚îÄ‚îÄ ?
‚îÇ
‚îú‚îÄ‚îÄ scripts_db/              # üóÑÔ∏è –†–∞–±–æ—Ç–∞ —Å –ë–∞–∑–æ–π –î–∞–Ω–Ω—ã—Ö (DuckDB)
‚îÇ   ‚îú‚îÄ‚îÄ 01_setup_db.py       # –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è –ë–î –∏–∑ CSV
‚îÇ   ‚îú‚îÄ‚îÄ run_sql_safe.py      # –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –∑–∞–ø—É—Å–∫–∞—Ç–æ—Ä SQL-–∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ request.sql          # –í—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª (—Å—é–¥–∞ –∞–≥–µ–Ω—Ç –ø–∏—à–µ—Ç SQL)
‚îÇ   ‚îî‚îÄ‚îÄ answer.csv           # –í—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª (—Å—é–¥–∞ –ø–∞–¥–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑ –ë–î)
‚îÇ
‚îî‚îÄ‚îÄ db/                      # üíæ –°—é–¥–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è —Ñ–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (.duckdb)
```

-----

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç (–ü–æ—à–∞–≥–æ–≤–æ)

### 1\. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–û–¥–∏–Ω —Ä–∞–∑)

**–®–∞–≥ 1.1: –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**

```bash
git clone <—Å—Å—ã–ª–∫–∞_–Ω–∞_—Ä–µ–ø–æ>
cd medhakathon
```

**–®–∞–≥ 1.2: –°–æ–∑–¥–∞–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ**
–≠—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, —á—Ç–æ–±—ã –Ω–µ –∑–∞—Å–æ—Ä—è—Ç—å —Å–∏—Å—Ç–µ–º—É.

```bash
# Windows
python -m venv venv
venv\Scripts\activate

# Mac / Linux
python3 -m venv venv
source venv/bin/activate
```

**–®–∞–≥ 1.3: –£—Å—Ç–∞–Ω–æ–≤–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏**

```bash
pip install -r requirements.txt
```

**–®–∞–≥ 1.4: –ù–∞—Å—Ç—Ä–æ–π –∫–ª—é—á–∏ (.env)**
–°–æ–∑–¥–∞–π –≤ –∫–æ—Ä–Ω–µ —Ñ–∞–π–ª `.env` –∏ –¥–æ–±–∞–≤—å —Ç—É–¥–∞ –∫–ª—é—á–∏.
*–ï—Å–ª–∏ —Ç—ã –≤ –†–§ ‚Äî –≤–∫–ª—é—á–∏ VPN, Gemini –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –±–µ–∑ –Ω–µ–≥–æ.*

–ü—Ä–∏–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ `.env`:

```
GOOGLE_API_KEY="—Ç–≤–æ–π_–∫–ª—é—á_–æ—Ç_google_ai_studio"

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (–¥–ª—è –ª–æ–≥–æ–≤ LangSmith)
LANGCHAIN_TRACING_V2=true
LANGCHAIN_API_KEY="—Ç–≤–æ–π_–∫–ª—é—á_langsmith"
LANGCHAIN_PROJECT="Medical_Insight"
```

-----

### 2\. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –î–∞–Ω–Ω—ã—Ö (–í–∞–∂–Ω–æ\!)

–ú—ã –Ω–µ —Ö—Ä–∞–Ω–∏–º –¥–∞–Ω–Ω—ã–µ –≤ Git.

1.  –°–∫–∞—á–∞–π—Ç–µ CSV —Ñ–∞–π–ª—ã –ø–æ —Å—Å—ã–ª–∫–µ (—Å–ø—Ä–æ—Å–∏—Ç–µ —É –∫–∞–ø–∏—Ç–∞–Ω–∞ –∏–ª–∏ —á–µ–∫–Ω–∏—Ç–µ –∑–∞–∫—Ä–µ–ø –≤ —á–∞—Ç–µ).
2.  –ü–æ–ª–æ–∂–∏—Ç–µ —Ñ–∞–π–ª—ã `–¥–∞–Ω–Ω—ã–µ_–ø–∞—Ü–∏–µ–Ω—Ç–æ–≤.csv`, `–¥–∞–Ω–Ω—ã–µ_—Ä–µ—Ü–µ–ø—Ç–æ–≤.csv` –∏ —Ç.–¥. –≤ –ø–∞–ø–∫—É **`data/`**.
3.  **–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö DuckDB:**
    –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–±–µ—Ä–µ—Ç CSV –≤ –æ–¥–∏–Ω —Ñ–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
    ```bash
    python scripts_db/01_setup_db.py
    ```
    *–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤ –ø–∞–ø–∫–µ `db/` –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è —Ñ–∞–π–ª `medinsight.duckdb`.*

-----

### 3\. –ó–∞–ø—É—Å–∫ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ê–∫—Ç–∏–≤–∏—Ä—É–π venv (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω) –∏ –∑–∞–ø—É—Å—Ç–∏:

```bash
streamlit run main.py
```

–£ —Ç–µ–±—è –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:8501`.

-----

## üõ† –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º)

–£ –Ω–∞—Å –≥–∏–±—Ä–∏–¥–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞:

1.  **–í–∫–ª–∞–¥–∫–∞ "–î–∞—à–±–æ—Ä–¥":**

      * –ü–æ–∫–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤, –Ω–æ –æ–Ω–∏ –±—É–¥—É—Ç –≤ `/output`
      * –°—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ–∏–∫–∏ —á–µ—Ä–µ–∑ Plotly.
      * *–ó–∞—á–µ–º?* –ß—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—Ç–æ—Ä–∞–º –º–≥–Ω–æ–≤–µ–Ω–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –±–µ–∑ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ AI.

2.  **–í–∫–ª–∞–¥–∫–∞ "AI –ê–≥–µ–Ω—Ç":**

      * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É **Text-to-SQL**.
      * –í—ã –ø–∏—à–∏—Ç–µ: *"–ì–¥–µ –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –±–æ–ª–µ—é—Ç –≥—Ä–∏–ø–ø–æ–º?"*
      * `MedicalSQLAgent` (LLM ‚Ññ1) –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç SQL-–∑–∞–ø—Ä–æ—Å –∫ DuckDB.
      * –°–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ `answer.csv`.
      * `MedicalSQLAgent` (LLM ‚Ññ2) —á–∏—Ç–∞–µ—Ç CSV –∏ –ø–∏—à–µ—Ç –æ—Ç–≤–µ—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.

-----

## üÜò Troubleshooting (–ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

  * **–û—à–∏–±–∫–∞ `404 models/gemini... not found`**:
      * –í–∫–ª—é—á–∏ **VPN** (USA/Singapore). Google API –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –†–§ –Ω–∞–ø—Ä—è–º—É—é.
  * **–û—à–∏–±–∫–∞ `Expected a Runnable... got NoneType`**:
      * –¢—ã –∏—Å–ø–æ–ª—å–∑—É–µ—à—å —Å—Ç–∞—Ä—É—é –≤–µ—Ä—Å–∏—é `agent.py`. –°–¥–µ–ª–∞–π `git pull`.
  * **–û—à–∏–±–∫–∞ `table not found`**:
      * –¢—ã –∑–∞–±—ã–ª –∑–∞–ø—É—Å—Ç–∏—Ç—å `python scripts_db/01_setup_db.py`.
  * **–û—à–∏–±–∫–∞ `tabulate`**:
      * –ó–∞–±—ã–ª –æ–±–Ω–æ–≤–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏. –°–¥–µ–ª–∞–π `pip install -r requirements.txt`.


–ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∫ 3 –¥–µ–∫–∞–±—Ä—è:
Dashboard:
* –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö –≤ –≤–∏–¥–µ —Ä–∞–∑–Ω—ã—Ö –∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏–π (–≤—Å–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã–µ –∏–Ω—Å–∞–π—Ç—ã –∏–∑ docx)
* –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –æ—Ç LLM (requests.sql, answer.csv)
* –°—Ç—Ä–æ–∏–º –≥—Ä–∞—Ñ–∏–∫–∏ –ø–æ answer.csv (–¥–∞–ª–µ–µ –ø–æ –æ–±—â–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ, –µ—Å–ª–∏ –≤—ã–π–¥–µ—Ç) –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Ö
* –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ (–Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ –±—É–¥–µ—Ç )